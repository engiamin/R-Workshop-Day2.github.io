<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>GATHER DATA</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Day 2</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Data Wrangling</a>
</li>
<li>
  <a href="gather.html">GATHER DATA</a>
</li>
<li>
  <a href="tidy.html">TIDY DATA</a>
</li>
<li>
  <a href="transform.html">TRANSFORM DATA</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">GATHER DATA</h1>

</div>


<style type="text/css">
  body{
  font-size: 14pt;
}
</style>
<style type="text/css">
code.r{
  font-size: 16px;
}
pre {
  font-size: 16px
}
</style>
<div style="margin-bottom:50px;">

</div>
<div id="manage-working-space" class="section level1">
<h1>Manage Working Space</h1>
<ul>
<li>When starting any new project, set your working directory using the <code>setwd()</code> function.</li>
</ul>
<pre class="r"><code># Make sure to change any \ to /

setwd(&quot;D:/Work/BUE/R-Workshop-Day2.github.io&quot;)</code></pre>
<div style="margin-bottom:30px;">

</div>
<ul>
<li>To know your current directory, use the <code>getwd()</code> function.</li>
</ul>
<pre class="r"><code>getwd()</code></pre>
<pre><code>## [1] &quot;D:/Work/BUE/R-Workshop-Day2.github.io&quot;</code></pre>
<div style="margin-bottom:30px;">

</div>
<ul>
<li>To get a list of all stored files in the current director, use the <code>list.files()</code> function.</li>
</ul>
<pre class="r"><code>list.files()</code></pre>
<pre><code>##  [1] &quot;_site.yml&quot;                          &quot;Clean Data.xlsx&quot;                   
##  [3] &quot;docs&quot;                               &quot;gather.Rmd&quot;                        
##  [5] &quot;index.Rmd&quot;                          &quot;Long Data.xlsx&quot;                    
##  [7] &quot;long.png&quot;                           &quot;pivot_longer_wide_to_tidy_data.png&quot;
##  [9] &quot;R-Workshop-Day2.github.io.Rproj&quot;    &quot;Raw Data Files&quot;                    
## [11] &quot;screenshot-2017-09-24-12.53.56.png&quot; &quot;tidy.Rmd&quot;                          
## [13] &quot;transform.nb.html&quot;                  &quot;transform.Rmd&quot;                     
## [15] &quot;wide.png&quot;</code></pre>
<div style="margin-bottom:30px;">

</div>
<ul>
<li>To create a new directory (i.e. folder) in your WD, use the <code>dir.create()</code> function.</li>
</ul>
<pre class="r"><code>dir.create(&quot;NewFolder&quot;)</code></pre>
<div style="margin-bottom:30px;">

</div>
<ul>
<li>To create a new R script use the <code>file.create()</code> function.</li>
</ul>
<pre class="r"><code>file.create(&quot;D:/Work/BUE/R-Workshop-Day2.github.io/NewFolder/NewRScript.R&quot;)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<div style="margin-bottom:30px;">

</div>
<ul>
<li>To remove a file, use the file.remove() function.</li>
</ul>
<pre class="r"><code>file.remove(&quot;D:/Work/BUE/R-Workshop-Day2.github.io/NewFolder/NewRScript.R&quot;)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<div style="margin-bottom:30px;">

</div>
<ul>
<li>To remove a directory, use the <code>unlink()</code> function.</li>
</ul>
<pre class="r"><code>setwd(&quot;D:/Work/BUE/R-Workshop-Day2.github.io&quot;)
 
unlink(&#39;NewFolder&#39;, recursive=TRUE)</code></pre>
<div style="margin-bottom:80px;">

</div>
</div>
<div id="install-and-load-packages" class="section level1">
<h1>Install and Load Packages</h1>
<p>R is an open-source software. Developers all over the world develop R by adding new features. They do so by creating what we call in the R world “R Packages”</p>
<p>In order to work with these packages, there are two steps:</p>
<ol style="list-style-type: decimal">
<li>Install packages … done only one time if we haven’t installed this package on our computer before.</li>
<li>Load packages … done every time we start a new R session.</li>
</ol>
<p>In this session, we need to install and load two packages:</p>
<ul>
<li><code>openxlsx</code> to open and work with excel files.</li>
<li><code>tidyverse</code>to do data cleaning and tidying.</li>
</ul>
<pre class="r"><code># Installing Packages
install.packages(&quot;openxlsx&quot;)
install.packages(&quot;tidyverse&quot;)</code></pre>
<pre class="r"><code># Loading Packages
library(openxlsx)
library(tidyverse)</code></pre>
<div style="margin-bottom:80px;">

</div>
</div>
<div id="download-and-read-data" class="section level1">
<h1>Download and Read Data</h1>
<ul>
<li><p>Download the data files <a href="https://livebueedu-my.sharepoint.com/personal/dalya_bakry_bue_edu_eg/_layouts/15/onedrive.aspx?originalPath=aHR0cHM6Ly9saXZlYnVlZWR1LW15LnNoYXJlcG9pbnQuY29tLzpmOi9nL3BlcnNvbmFsL2RhbHlhX2Jha3J5X2J1ZV9lZHVfZWcvRXR1VlZvenZ5X0pFcFNUeFdzNk8zZUVCWkJ5MGVDRDhVa2QtMm0ya0N3clR5UT9ydGltZT1zVE1Ua0ZoXzJVZw&amp;id=%2Fpersonal%2Fdalya%5Fbakry%5Fbue%5Fedu%5Feg%2FDocuments%2FData%20Analysis%20Using%20R%2D%20Software%20Workshop%20Material%2FRaw%20Data%20Files">here</a>.</p></li>
<li><p>Read and store each excel file in a new object.</p></li>
</ul>
<pre class="r"><code># There are 8 excel files, you can read them one by one as follows:

S1_Control_DG &lt;- read.xlsx(&quot;./Raw Data Files/Session 1_Control_Dictator Game.xlsx&quot;,1)
S1_Control_PG &lt;- read.xlsx(&quot;./Raw Data Files/Session 1_Control_PG Game.xlsx&quot;,1)
S2_Control_DG &lt;- read.xlsx(&quot;./Raw Data Files/Session 2_Control_Dictator Game.xlsx&quot;,1)
S2_Control_PG &lt;- read.xlsx(&quot;./Raw Data Files/Session 2_Control_PG Game.xlsx&quot;,1)


S1_Trt_DG &lt;- read.xlsx(&quot;./Raw Data Files/Session 1_Treatment_Dictator Game.xlsx&quot;,1)
S1_Trt_PG &lt;- read.xlsx(&quot;./Raw Data Files/Session 1_Treatment_PG Game.xlsx&quot;,1)
S2_Trt_DG &lt;- read.xlsx(&quot;./Raw Data Files/Session 2_Treatment_Dictator Game.xlsx&quot;,1)
S2_Trt_PG &lt;- read.xlsx(&quot;./Raw Data Files/Session 2_Treatment_PG Game.xlsx&quot;,1)</code></pre>
<ul>
<li>Taking a look at a sample file.</li>
</ul>
<pre class="r"><code># Show first 10 rows of S1_Control_DG

head(S1_Control_DG,10)</code></pre>
<pre><code>##     Date Session Subject.ID Group GG1F1 GG1F2 GG1F3 GG1F4 GG1F5 GG1F6 GG1F7
## 1  43289       1          1     1     X     Y     Y     X     Y     Y     Y
## 2  43289       1          2     1     X     X     Y     Y     Y     Y     Y
## 3  43289       1          3     1     X     Y     X     Y     X     X     Y
## 4  43289       1          4     1     X     Y     X     X     X     X     X
## 5  43289       1          5     2     Y     Y     X     Y     Y     Y     X
## 6  43289       1          6     2     X     Y     X     Y     X     X     X
## 7  43289       1          7     2     X     X     Y     Y     X     X     X
## 8  43289       1          8     2     Y     Y     Y     Y     Y     Y     X
## 9  43289       1          9     3     X     X     Y     X     X     Y     Y
## 10 43289       1         10     3     Y     X     Y     X     X     X     Y
##    GG1F8
## 1      Y
## 2      Y
## 3      Y
## 4      X
## 5      X
## 6      Y
## 7      X
## 8      Y
## 9      Y
## 10     X</code></pre>
<pre class="r"><code># Show last 15 rows of S1_Trt_DG

tail(S1_Trt_PG,15)</code></pre>
<pre><code>##     Date Session Subject.ID Group q101 q102 q103 q104 Profit SubTotal1
## 10 43290       1         10     3    2   22    1    2     59      25.0
## 11 43290       1         11     3    2   21    1    2     59      21.0
## 12 43290       1         12     3    2   21    1    2     58      28.0
## 13 43290       1         13     4    2   20    2    2     57      16.4
## 14 43290       1         14     4    2   18    1    2     59      23.4
## 15 43290       1         15     4    1   21    1    2     67      24.4
## 16 43290       1         16     4    2   21    1    2     77      28.4
## 17 43290       1         17     5    2   21    1    2     54      26.0
## 18 43290       1         18     5    2   21    1    2     68      34.0
## 19 43290       1         19     5    1   20    1    2     52      19.0
## 20 43290       1         20     5    2   21    1    2     56      22.0
## 21 43290       1         21     6    2   20    1    2     45      21.6
## 22 43290       1         22     6    1   21    1    2     52      15.6
## 23 43290       1         23     6    2   21    2    2     67      25.6
## 24 43290       1         24     6    2   23    1    2     63      25.6
##    SubTotal2 SubTotal3 SubTotal4 SubTotal5 SubTotal6 SubTotal7 SubTotal8
## 10      23.6      19.8      22.6      19.2      18.2      21.6      20.8
## 11      21.6      24.8      20.6      20.2      21.2      21.6      20.8
## 12      18.6      20.8      23.6      21.2      21.2      18.6      20.8
## 13      22.8      19.4      16.8      26.4      20.0      22.8      18.4
## 14      22.8      15.4      26.8      14.4      22.0      20.8      24.4
## 15      27.8      30.4      20.8      27.4      24.0      23.8      21.4
## 16      25.8      30.4      25.8      33.4      29.0      28.8      25.4
## 17      22.8      32.6      17.2      19.2      24.4      19.4      18.8
## 18      34.8      37.6      24.2      25.2      24.4      22.4      20.8
## 19      19.8      19.6      27.2      20.2      14.4      22.4      20.8
## 20      24.8      19.6      22.2      23.2      23.4      19.4      20.8
## 21      22.2      14.4      13.8      12.0      11.2      21.4      19.2
## 22      19.2      22.4      23.8      24.0      24.2      18.4      22.2
## 23      27.2      26.4      28.8      30.0      31.2      24.4      23.2
## 24      22.2      26.4      26.8      29.0      30.2      25.4      20.2
##    SubTotal9 SubTotal10 C1 GroupContribute1 ProfitPG1 Rank1 PrideTrt1 C2
## 10      20.4       20.0  3               20       8.0     3         N  0
## 11      19.4       20.0  7               20       8.0     2         Y  2
## 12      20.4       20.0  0               20       8.0     4         N  5
## 13      19.8       16.0 12               21       8.4     1         Y 10
## 14      23.8       26.0  5               21       8.4     2         Y 10
## 15      18.8       22.0  4               21       8.4     3         N  5
## 16      24.8       25.0  0               21       8.4     4         N  7
## 17      19.4       15.2  8               35      14.0     3         N 12
## 18      24.4       23.2  0               35      14.0     4         N  0
## 19      19.4       23.2 15               35      14.0     1         Y 15
## 20      23.4       23.2 12               35      14.0     2         Y 10
## 21      22.4       20.6  4               14       5.6     2         Y  5
## 22      17.4       17.6 10               14       5.6     1         Y  8
## 23      24.4       23.6  0               14       5.6     3         N  0
## 24      22.4       23.6  0               14       5.6     4         N  5
##    GroupContribute2 ProfitPG2 Rank2 PrideTrt2 C3 GroupContribute3 ProfitPG3
## 10                9       3.6     4         N  5               12       4.8
## 11                9       3.6     2         Y  0               12       4.8
## 12                9       3.6     1         Y  4               12       4.8
## 13               32      12.8     1         Y 11               26      10.4
## 14               32      12.8     2         Y 15               26      10.4
## 15               32      12.8     4         N  0               26      10.4
## 16               32      12.8     3         N  0               26      10.4
## 17               37      14.8     2         Y  7               49      19.6
## 18               37      14.8     4         N  2               49      19.6
## 19               37      14.8     1         Y 20               49      19.6
## 20               37      14.8     3         N 20               49      19.6
## 21               18       7.2     2         Y 12               16       6.4
## 22               18       7.2     1         Y  4               16       6.4
## 23               18       7.2     4         N  0               16       6.4
## 24               18       7.2     3         N  0               16       6.4
##    Rank3 PrideTrt3 C4 GroupContribute4 ProfitPG4 Rank4 PrideTrt4 C5
## 10     1         Y  1                9       3.6     3         N  2
## 11     4         N  3                9       3.6     2         Y  1
## 12     2         Y  0                9       3.6     4         N  0
## 13     2         Y 10               17       6.8     1         Y  8
## 14     1         Y  0               17       6.8     4         N 20
## 15     3         N  6               17       6.8     2         Y  7
## 16     4         N  1               17       6.8     3         N  1
## 17     3         N 10               18       7.2     1         Y  6
## 18     4         N  3               18       7.2     3         N  0
## 19     1         Y  0               18       7.2     4         N  5
## 20     2         Y  5               18       7.2     2         Y  2
## 21     1         Y 15               22       8.8     1         Y 18
## 22     2         Y  5               22       8.8     2         Y  6
## 23     4         N  0               22       8.8     4         N  0
## 24     3         N  2               22       8.8     3         N  1
##    GroupContribute5 ProfitPG5 Rank5 PrideTrt5 C6 GroupContribute6 ProfitPG6
## 10                3       1.2     1         Y  3                3       1.2
## 11                3       1.2     2         Y  0                3       1.2
## 12                3       1.2     3         N  0                3       1.2
## 13               36      14.4     2         Y 10               25      10.0
## 14               36      14.4     1         Y  8               25      10.0
## 15               36      14.4     3         N  6               25      10.0
## 16               36      14.4     4         N  1               25      10.0
## 17               13       5.2     1         Y  0               11       4.4
## 18               13       5.2     4         N  0               11       4.4
## 19               13       5.2     2         Y 10               11       4.4
## 20               13       5.2     3         N  1               11       4.4
## 21               25      10.0     1         Y 20               28      11.2
## 22               25      10.0     2         Y  7               28      11.2
## 23               25      10.0     4         N  0               28      11.2
## 24               25      10.0     3         N  1               28      11.2
##    Rank6 PrideTrt6 C7 GroupContribute7 ProfitPG7 Rank7 PrideTrt7 C8
## 10     1         Y  0                4       1.6     4         N  0
## 11     2         N  0                4       1.6     3         N  0
## 12     3         N  3                4       1.6     1         Y  0
## 13     1         Y  8               27      10.8     2         Y  8
## 14     2         Y 10               27      10.8     1         Y  2
## 15     3         N  7               27      10.8     3         N  5
## 16     4         N  2               27      10.8     4         N  1
## 17     3         N  3                6       2.4     1         Y  2
## 18     4         N  0                6       2.4     3         N  0
## 19     1         Y  0                6       2.4     4         N  0
## 20     2         Y  3                6       2.4     2         Y  0
## 21     1         Y  5               16       6.4     2         Y  4
## 22     2         Y  8               16       6.4     1         Y  1
## 23     4         N  2               16       6.4     3         N  0
## 24     3         N  1               16       6.4     4         N  3
##    GroupContribute8 ProfitPG8 Rank8 PrideTrt8 C9 GroupContribute9 ProfitPG9
## 10                2       0.8     3         N  0                1       0.4
## 11                2       0.8     2         N  1                1       0.4
## 12                2       0.8     4         N  0                1       0.4
## 13               16       6.4     1         Y  5               12       4.8
## 14               16       6.4     3         N  1               12       4.8
## 15               16       6.4     2         Y  6               12       4.8
## 16               16       6.4     4         N  0               12       4.8
## 17                2       0.8     1         Y  5               11       4.4
## 18                2       0.8     3         N  0               11       4.4
## 19                2       0.8     2         N  5               11       4.4
## 20                2       0.8     4         N  1               11       4.4
## 21                8       3.2     1         Y  2               11       4.4
## 22                8       3.2     3         N  7               11       4.4
## 23                8       3.2     4         N  0               11       4.4
## 24                8       3.2     2         Y  2               11       4.4
##    Rank9 PrideTrt9 C10 GroupContribute10 ProfitPG10 Rank10 PrideTrt10 q206
## 10     2         N   0                 0        0.0      3          N    2
## 11     1         Y   0                 0        0.0      1          N    2
## 12     4         N   0                 0        0.0      2          N    2
## 13     2         Y  10                15        6.0      1          Y    2
## 14     3         N   0                15        6.0      4          N    1
## 15     1         Y   4                15        6.0      2          Y    2
## 16     4         N   1                15        6.0      3          N    2
## 17     1         Y   8                 8        3.2      1          Y    1
## 18     4         N   0                 8        3.2      3          N    1
## 19     2         Y   0                 8        3.2      4          N    1
## 20     3         N   0                 8        3.2      2          N    1
## 21     3         N   3                 9        3.6      2          Y    2
## 22     1         Y   6                 9        3.6      1          Y    2
## 23     4         N   0                 9        3.6      3          N    3
## 24     2         Y   0                 9        3.6      4          N    3</code></pre>
<div style="margin-bottom:50px;">

</div>
<ul>
<li>Select certain columns to look at.</li>
</ul>
<pre class="r"><code># Take a look at the values of the q102 column in S1_Control_PG

S1_Control_PG$q102</code></pre>
<pre><code>##  [1] 21 20 22 20 23 22 22 21 21 21 19 22 20 21 22 21 21 21 20 20 19 22 21 20</code></pre>
<div style="margin-bottom:50px;">

</div>
<ul>
<li>An advanced move, would be to read all dictator game files together and merge them, and read all PG game files together and merge them. Will mention code but will not use it here.</li>
</ul>
<pre class="r"><code># Get path and names of all files
files &lt;- list.files(path = &quot;./Raw Data Files&quot;, full.names = TRUE, pattern = &quot;.xlsx&quot;)

# Select files with &quot;Dictator Game&quot; in its name
DG_files &lt;- files[grep(files,pattern=&quot;Dictator Game&quot;)]

# Apply a function that reads all files in DG_files and stores them
dat &lt;- lapply(DG_files, function(i){
    x &lt;- read.xlsx(i, 1)
    # You may want to add a column to say which file they&#39;re from
    x$file &lt;- i
    # Also add a column to determine if its control or treatment
    x$Treatment &lt;- sapply(strsplit(x$file, &quot;_&quot;), function(x) x[2])
    # Return your data
    x
})


# Bind all files in one dataframe
DG_data &lt;- do.call(&quot;rbind.data.frame&quot;, dat)</code></pre>
<pre class="r"><code># Select files with &quot;PG Game&quot; in its name
PG_files &lt;- files[grep(files,pattern=&quot;PG Game&quot;)]
PG_files


# Apply a function that reads all files in PG_files and stores them
dat2 &lt;- lapply(PG_files, function(i){
    x &lt;- read.xlsx(i, 1)
    # You may want to add a column to say which file they&#39;re from
    x$file &lt;- i
    # Also add a column to determine if its control or treatment
    x$Treatment &lt;- sapply(strsplit(x$file, &quot;_&quot;), function(x) x[2])
    # Return your data
    x
})

# Bind all files in one dataframe

# get all variable names
allNms &lt;- unique(unlist(lapply(dat2, names)))

PG_data &lt;- do.call(&quot;rbind.data.frame&quot;, lapply(dat2,function(x) data.frame(c(x, sapply(setdiff(allNms, names(x)), function(y) NA))) ))</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
